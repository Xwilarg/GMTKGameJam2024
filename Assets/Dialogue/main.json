{"inkVersion":21,"root":[[{"->":"mayor.game_intro"},["done",{"#f":5,"#n":"g-0"}],null],"done",{"mayor":[{"->":".^.game_intro"},{"game_intro":["ev",1,"/ev",{"VAR=":"bot_number","re":true},"^Congratulations on your new shop! As mayor, I'm always eager to support small businesses in this town! ","#","^speaker mayor","/#","\n","^Speaking of support, I need your help. ","#","^speaker mayor","/#","\n","^City Hall is a stinking mess today - turns out a nest of rats has been living in our vents!  Could you send ","ev",{"VAR?":"bot_number"},"out","/ev","^ of your cats to take care of the situation? ","#","^speaker mayor","/#","\n","done",{"#f":1}],"host_event":["ev",1,20,"rnd","/ev",{"VAR=":"bot_number","re":true},"\n","^Hello, your shop seems to be doing well! My office pushed for those tax incentives in the last election - we're big on helping businesses! ","#","^speaker mayor","/#","\n","^Anyway, we're hosting a delegation from our sister city this week and our regular caterers are overbooked. Do you have a team of ","ev",{"VAR?":"bot_number"},"out","/ev","^ that can prepare ",["ev","visit",5,"seq","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"ev","du",2,"==","/ev",{"->":".^.s2","c":true},"ev","du",3,"==","/ev",{"->":".^.s3","c":true},"ev","du",4,"==","/ev",{"->":".^.s4","c":true},"nop",{"s0":["pop","^Greek food",{"->":".^.^.35"},null],"s1":["pop","^brown bag lunches",{"->":".^.^.35"},null],"s2":["pop","^pizzas",{"->":".^.^.35"},null],"s3":["pop","^BBQ ribs",{"->":".^.^.35"},null],"s4":["pop","^sandwiches",{"->":".^.^.35"},null],"#f":5}],"^?","\n","done",{"#f":1}],"#f":1}],"fire_chief":[{"->":".^.forest_fire"},{"forest_fire":["ev",1,20,"rnd","/ev",{"VAR=":"bot_number","re":true},"\n","^The forest fire is out of control and heading towards town. My people need all the help they can get. Give me ","ev",{"VAR?":"bot_number"},"out","/ev","^ of your best firefighters! ","#","^speaker fire_chief","/#","\n","done",{"#f":1}],"#f":1}],"mafia":[{"->":".^.turf_war"},{"turf_war":["ev",1,20,"rnd","/ev",{"VAR=":"bot_number","re":true},"\n","^New business eh, bro? You should meet my boss Don Fusilli. You'll need his help one day. ","#","^speaker mafia","/#","\n","^Don Fusilli takes care of his own. Question is, will you step up for the Don? The ",["ev","visit",5,"seq","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"ev","du",2,"==","/ev",{"->":".^.s2","c":true},"ev","du",3,"==","/ev",{"->":".^.s3","c":true},"ev","du",4,"==","/ev",{"->":".^.s4","c":true},"nop",{"s0":["pop","^Ziti",{"->":".^.^.35"},null],"s1":["pop","^Rigatoni",{"->":".^.^.35"},null],"s2":["pop","^Gemelli",{"->":".^.^.35"},null],"s3":["pop","^Farfalle",{"->":".^.^.35"},null],"s4":["pop","^Cavatappi",{"->":".^.^.35"},null],"#f":5}],"^ are trying to steal our territory and Don Fusilli needs ","ev",{"VAR?":"bot_number"},"out","/ev","^ fighters. ","#","^speaker mafia","/#","\n","done",{"#f":1}],"#f":1}],"rancher":[{"->":".^.lost"},{"lost":["ev",1,20,"rnd","/ev",{"VAR=":"bot_number","re":true},"\n","^S'up amigo? Some of our cattle escaped and I sure could use some help tracking 'em down. You got ","ev",{"VAR?":"bot_number"},"out","/ev","^ cowboys 'round these parts? ","#","^speaker rancher","/#","\n","done",{"#f":1}],"#f":1}],"guyd_bot":[{"->":".^.tutorial"},{"tutorial":["^New day, new beginnings, I say! Let me show you around! ","#","^speaker guyd","/#","\n","^Fear not, I was Best Teaching Assistant five years in a row. You're in good hands! ","#","^speaker guyd","/#","\n","done",{"#f":1}],"scan_jobs":["^Hmm, wonder what's going on in town? ","#","^speaker guyd","/#","\n","ev",0,1,"rnd","/ev",{"VAR=":"found_job","re":true},"\n",["ev",{"VAR?":"found_job"},1,"==","/ev",{"->":".^.b","c":true},{"b":["\n",{"->":"guyd_bot.new_task"},{"->":".^.^.^.14"},null]}],[{"->":".^.b"},{"b":["\n",{"->":"guyd_bot.no_task"},{"->":".^.^.^.14"},null]}],"nop","\n",{"#f":1}],"new_task":["ev",{"VAR?":"bot_tasks"},"lrnd","/ev",{"VAR=":"task","re":true},"\n",["ev",{"VAR?":"task"},"str","^cowboy","/str","==","/ev",{"->":".^.b","c":true},{"b":["\n",{"->":"guyd_bot.cowboy_task"},{"->":".^.^.^.9"},null]}],["ev",{"VAR?":"task"},"str","^kitty","/str","==","/ev",{"->":".^.b","c":true},{"b":["\n",{"->":"guyd_bot.kitty_task"},{"->":".^.^.^.9"},null]}],[{"->":".^.b"},{"b":["\n",{"->":"guyd_bot.report_task"},{"->":".^.^.^.9"},null]}],"nop","\n",{"#f":1}],"cowboy_task":["ev",1,20,"rnd","/ev",{"VAR=":"bot_number","re":true},"\n","^Hey, let's send ","ev",{"VAR?":"bot_number"},"out","/ev","^ ","ev",{"VAR?":"bot_number"},1,">","/ev",[{"->":".^.b","c":true},{"b":["^cowboys",{"->":".^.^.^.20"},null]}],[{"->":".^.b"},{"b":["^cowboy",{"->":".^.^.^.20"},null]}],"nop","^ to the ranch. Looks like their cattle got loose again. ","#","^speaker guyd","/#","\n","done",{"#f":1}],"kitty_task":["ev",1,20,"rnd","/ev",{"VAR=":"bot_number","re":true},"\n","^Snakes alive! We need ","ev",{"VAR?":"bot_number"},"out","/ev","^ ","ev",{"VAR?":"bot_number"},1,">","/ev",[{"->":".^.b","c":true},{"b":["^cats",{"->":".^.^.^.20"},null]}],[{"->":".^.b"},{"b":["^cat",{"->":".^.^.^.20"},null]}],"nop","^ at that house before anyone gets attacked. ","#","^speaker guyd","/#","\n","done",{"#f":1}],"report_task":["^Oh, someone needs a ","ev",{"VAR?":"task"},"out","/ev","^ job done! Let's get on it, ","ev",{"VAR?":"bot_number"},"out","/ev","^ ","ev",{"VAR?":"bot_number"},1,">","/ev",[{"->":".^.b","c":true},{"b":["^bots",{"->":".^.^.^.18"},null]}],[{"->":".^.b"},{"b":["^bot",{"->":".^.^.^.18"},null]}],"nop","^ coming right up! ","#","^speaker guyd","/#","\n","done",{"#f":1}],"no_task":["^Quiet day, I guess. Slow day for business too... ","#","^speaker guyd","/#","\n","done",{"#f":1}],"#f":1}],"builder_bot":[["ev",{"VAR?":"build_success"},"/ev",{"->":".^.b","c":true},{"b":["\n",{"->":".^.^.^.success"},{"->":".^.^.^.2"},null]}],[{"->":".^.b"},{"b":["\n",{"->":".^.^.^.try_again"},{"->":".^.^.^.2"},null]}],"nop","\n",{"success":["^Ready to build, boss!","\n","done",{"#f":1}],"try_again":["^Uh-oh, are these the right schematics?","\n","done",{"#f":1}],"#f":1}],"cook_bot":[["ev",{"VAR?":"build_success"},"/ev",{"->":".^.b","c":true},{"b":["\n",{"->":".^.^.^.can_cook"},{"->":".^.^.^.2"},null]}],[{"->":".^.b"},{"b":["\n",{"->":".^.^.^.cannot_cook"},{"->":".^.^.^.2"},null]}],"nop","\n",{"can_cook":["^I can make you ",["ev","visit",5,"seq","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"ev","du",2,"==","/ev",{"->":".^.s2","c":true},"ev","du",3,"==","/ev",{"->":".^.s3","c":true},"ev","du",4,"==","/ev",{"->":".^.s4","c":true},"nop",{"s0":["pop","^baklava",{"->":".^.^.35"},null],"s1":["pop","^lasagna",{"->":".^.^.35"},null],"s2":["pop","^ice cream",{"->":".^.^.35"},null],"s3":["pop","^chicken cordon bleu",{"->":".^.^.35"},null],"s4":["pop","^sushi",{"->":".^.^.35"},null],"#f":5}],"^!","\n","done",{"#f":1}],"cannot_cook":["^Help! How do you boil water?","\n","done",{"#f":1}],"#f":1}],"cowboy_bot":[["ev",{"VAR?":"build_success"},"/ev",{"->":".^.b","c":true},{"b":["\n",{"->":".^.^.^.rodeo"},{"->":".^.^.^.2"},null]}],[{"->":".^.b"},{"b":["\n",{"->":".^.^.^.no_rodeo"},{"->":".^.^.^.2"},null]}],"nop","\n",{"rodeo":["^This ain't my first rodeo. Giddy up!","\n","done",{"#f":1}],"no_rodeo":["^Why am I riding a horse?","\n","done",{"#f":1}],"#f":1}],"kitty_bot":[["ev",{"VAR?":"build_success"},"/ev",{"->":".^.b","c":true},{"b":["\n",{"->":".^.^.^.is_cat"},{"->":".^.^.^.2"},null]}],[{"->":".^.b"},{"b":["\n",{"->":".^.^.^.not_cat"},{"->":".^.^.^.2"},null]}],"nop","\n",{"is_cat":["^Meow!","\n","done",{"#f":1}],"not_cat":["^I don't hunt. Who do you think I am, a cat?","\n","done",{"#f":1}],"#f":1}],"fire_bot":[["ev",{"VAR?":"build_success"},"/ev",{"->":".^.b","c":true},{"b":["\n",{"->":".^.^.^.hot"},{"->":".^.^.^.2"},null]}],[{"->":".^.b"},{"b":["\n",{"->":".^.^.^.not_hot"},{"->":".^.^.^.2"},null]}],"nop","\n",{"hot":["^There's no smoke without... FIRE! I'll take care of this!","\n","done",{"#f":1}],"not_hot":["^Why am I smoking?! And I don't mean hot.","\n","done",{"#f":1}],"#f":1}],"battle_bot":[["ev",{"VAR?":"build_success"},"/ev",{"->":".^.b","c":true},{"b":["\n",{"->":".^.^.^.fight"},{"->":".^.^.^.2"},null]}],[{"->":".^.b"},{"b":["\n",{"->":".^.^.^.no_fight"},{"->":".^.^.^.2"},null]}],"nop","\n",{"fight":["^Let me at 'em!","\n","done",{"#f":1}],"no_fight":["^Can't we all just get along?","\n","done",{"#f":1}],"#f":1}],"repair_bot":[["ev",{"VAR?":"build_success"},"/ev",{"->":".^.b","c":true},{"b":["\n",{"->":".^.^.^.fix"},{"->":".^.^.^.2"},null]}],[{"->":".^.b"},{"b":["\n",{"->":".^.^.^.broken"},{"->":".^.^.^.2"},null]}],"nop","\n",{"fix":["^I'll grab my ",["ev","visit",3,"seq","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"ev","du",2,"==","/ev",{"->":".^.s2","c":true},"nop",{"s0":["pop","^hammer",{"->":".^.^.23"},null],"s1":["pop","^wrench",{"->":".^.^.23"},null],"s2":["pop","^screwdriver",{"->":".^.^.23"},null],"#f":5}],"^. This'll take no time at all!","\n","done",{"#f":1}],"broken":["^I might have a screw or two loose, but who doesn't, right am I?","\n","done",{"#f":1}],"#f":1}],"global decl":["ev",0,{"VAR=":"bot_number"},true,{"VAR=":"build_success"},1,{"VAR=":"found_job"},{"list":{},"origins":["bot_tasks"]},{"VAR=":"bot_tasks"},{"VAR?":"repair"},{"VAR=":"task"},"/ev","end",null],"#f":1}],"listDefs":{"bot_tasks":{"cooking":1,"cowboy":2,"kitty":3,"firefighting":4,"battling":5,"repair":6}}}